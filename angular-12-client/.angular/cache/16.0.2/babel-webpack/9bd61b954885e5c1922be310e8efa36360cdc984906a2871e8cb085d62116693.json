{"ast":null,"code":"import * as UserActions from \"./auth.actions\";\nexport const initialState = {\n  isAuthenticated: false,\n  user: null,\n  errorMessage: null\n};\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case UserActions.AuthActionTypes.LOGIN_SUCCESS:\n      {\n        console.log('auth reducer ok');\n        return Object.assign(Object.assign({}, state), {\n          isAuthenticated: true,\n          user: {\n            token: action.payload.token,\n            email: action.payload.email\n          },\n          errorMessage: null\n        });\n      }\n    case UserActions.AuthActionTypes.LOGIN_FAILURE:\n      {\n        console.log('auth reducer');\n        return Object.assign(Object.assign({}, state), {\n          errorMessage: 'Incorrect email and/or password.'\n        });\n      }\n    // case UserActions.AuthActionTypes.SIGNUP_SUCCESS: {\n    //   return {\n    //     ...state,\n    //     isAuthenticated: true,\n    //     user: {\n    //       token: action.payload.token,\n    //       email: action.payload.email\n    //     },\n    //     errorMessage: null\n    //   };\n    // }\n    // case UserActions.AuthActionTypes.SIGNUP_FAILURE: {\n    //   return {\n    //     ...state,\n    //     errorMessage: 'That email is already in use.'\n    //   };\n    // }\n    // case UserActions.AuthActionTypes.LOGOUT: {\n    //   return initialState;\n    // }\n    default:\n      {\n        console.log('default');\n        return state;\n      }\n  }\n}","map":{"version":3,"names":["UserActions","initialState","isAuthenticated","user","errorMessage","reducer","state","action","type","AuthActionTypes","LOGIN_SUCCESS","console","log","Object","assign","token","payload","email","LOGIN_FAILURE"],"sources":["C:\\Documents\\GitHub\\angular-12-node-js-project\\angular-12-client\\src\\app\\state\\auth.reducer.ts"],"sourcesContent":["import { Action, createReducer, on } from \"@ngrx/store\";\r\nimport * as UserActions from \"./auth.actions\";\r\nimport { All } from './auth.actions';\r\nimport { User } from \"./user.model\";\r\n\r\nexport interface State {\r\n  // is a user authenticated?\r\n  isAuthenticated: boolean;\r\n  // if authenticated, there should be a user object\r\n  user: User | null;\r\n  // error message\r\n  errorMessage: string | null;\r\n}\r\n\r\nexport const initialState: State = {\r\n  isAuthenticated: false,\r\n  user: null,\r\n  errorMessage: null\r\n};\r\n\r\nexport function reducer(state = initialState, action: All): State {\r\n  switch (action.type) {\r\n    case UserActions.AuthActionTypes.LOGIN_SUCCESS: {\r\n      console.log('auth reducer ok');\r\n      return {\r\n        ...state,\r\n        isAuthenticated: true,\r\n        user: {\r\n          token: action.payload.token,\r\n          email: action.payload.email\r\n        },\r\n        errorMessage: null\r\n      };\r\n    }\r\n    case UserActions.AuthActionTypes.LOGIN_FAILURE: {\r\n      console.log('auth reducer');\r\n      return {\r\n        ...state,\r\n        errorMessage: 'Incorrect email and/or password.'\r\n      };\r\n    }\r\n    // case UserActions.AuthActionTypes.SIGNUP_SUCCESS: {\r\n    //   return {\r\n    //     ...state,\r\n    //     isAuthenticated: true,\r\n    //     user: {\r\n    //       token: action.payload.token,\r\n    //       email: action.payload.email\r\n    //     },\r\n    //     errorMessage: null\r\n    //   };\r\n    // }\r\n    // case UserActions.AuthActionTypes.SIGNUP_FAILURE: {\r\n    //   return {\r\n    //     ...state,\r\n    //     errorMessage: 'That email is already in use.'\r\n    //   };\r\n    // }\r\n    // case UserActions.AuthActionTypes.LOGOUT: {\r\n    //   return initialState;\r\n    // }\r\n    default: {\r\n      console.log('default');\r\n      return state;\r\n    }\r\n  }\r\n}"],"mappings":"AACA,OAAO,KAAKA,WAAW,MAAM,gBAAgB;AAa7C,OAAO,MAAMC,YAAY,GAAU;EACjCC,eAAe,EAAE,KAAK;EACtBC,IAAI,EAAE,IAAI;EACVC,YAAY,EAAE;CACf;AAED,OAAM,SAAUC,OAAOA,CAACC,KAAK,GAAGL,YAAY,EAAEM,MAAW;EACvD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKR,WAAW,CAACS,eAAe,CAACC,aAAa;MAAE;QAC9CC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;QAC9B,OAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACKR,KAAK;UACRJ,eAAe,EAAE,IAAI;UACrBC,IAAI,EAAE;YACJY,KAAK,EAAER,MAAM,CAACS,OAAO,CAACD,KAAK;YAC3BE,KAAK,EAAEV,MAAM,CAACS,OAAO,CAACC;WACvB;UACDb,YAAY,EAAE;QAAI;;IAGtB,KAAKJ,WAAW,CAACS,eAAe,CAACS,aAAa;MAAE;QAC9CP,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC3B,OAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KACKR,KAAK;UACRF,YAAY,EAAE;QAAkC;;IAGpD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MAAS;QACPO,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QACtB,OAAON,KAAK;;EACb;AAEL"},"metadata":{},"sourceType":"module","externalDependencies":[]}